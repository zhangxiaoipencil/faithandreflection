{"remainingRequest":"C:\\Users\\XuJiaWei\\Documents\\GitHub\\faithandreflection\\Faithandreflection\\node_modules\\babel-loader\\lib\\index.js??ref--3-1!C:\\Users\\XuJiaWei\\Documents\\GitHub\\faithandreflection\\Faithandreflection\\node_modules\\vuepress-plugin-photo-swipe\\lib\\client\\PhotoSwipeUI.js?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\XuJiaWei\\Documents\\GitHub\\faithandreflection\\Faithandreflection\\node_modules\\vuepress-plugin-photo-swipe\\lib\\client\\PhotoSwipeUI.js","mtime":1640151708244},{"path":"C:\\Users\\XuJiaWei\\Documents\\GitHub\\faithandreflection\\Faithandreflection\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639480154669},{"path":"C:\\Users\\XuJiaWei\\Documents\\GitHub\\faithandreflection\\Faithandreflection\\node_modules\\babel-loader\\lib\\index.js","mtime":1639480153975}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIkM6XFxVc2Vyc1xcWHVKaWFXZWlcXERvY3VtZW50c1xcR2l0SHViXFxmYWl0aGFuZHJlZmxlY3Rpb25cXEZhaXRoYW5kcmVmbGVjdGlvblxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcc2xpY2VkVG9BcnJheS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi50aW1lcnMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBWdWUgZnJvbSAidnVlIjsKdmFyIGltYWdlczsKdmFyIGkxOG4gPSBQSE9UT1NXSVBFX0kxOE47CmV4cG9ydCBkZWZhdWx0IFZ1ZS5leHRlbmQoewogIG5hbWU6ICJQaG90b1N3aXBlVUkiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpMThuOiBpMThuCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgICRyb3V0ZTogZnVuY3Rpb24gJHJvdXRlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBjb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihJTUFHRV9DT05UQUlORVIpOwoKICAgICAgICBpZiAoY29udGVudCkgewogICAgICAgICAgX3RoaXMucGhvdG9zd2lwZSgpOwoKICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpOwogICAgICAgIH0KICAgICAgfSwgMjAwKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICB2YXIgdGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBjb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihJTUFHRV9DT05UQUlORVIpOwoKICAgICAgaWYgKGNvbnRlbnQpIHsKICAgICAgICBfdGhpczIucGhvdG9zd2lwZSgpOwoKICAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTsKICAgICAgfQogICAgfSwgMjAwKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHBob3Rvc3dpcGU6IGZ1bmN0aW9uIHBob3Rvc3dpcGUoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIHBzd3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIucHN3cCIpOwogICAgICB2b2lkIFByb21pc2UuYWxsKFtpbXBvcnQoCiAgICAgIC8qIHdlYnBhY2tDaHVua05hbWU6ICJwaG90by1zd2lwZSIgKi8KICAgICAgInBob3Rvc3dpcGUiKSwgaW1wb3J0KAogICAgICAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiAicGhvdG8tc3dpcGUiICovCiAgICAgICJwaG90b3N3aXBlL2Rpc3QvcGhvdG9zd2lwZS11aS1kZWZhdWx0IildKS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgdmFyIF9yZWYyID0gX3NsaWNlZFRvQXJyYXkoX3JlZiwgMiksCiAgICAgICAgICAgIHBob3RvU3dpcGUgPSBfcmVmMlswXSwKICAgICAgICAgICAgcGhvdG9Td2lwZVVJRGVmYXVsdCA9IF9yZWYyWzFdOwoKICAgICAgICB2b2lkIF90aGlzMy5nZXRJbWFnZXMoKS50aGVuKGZ1bmN0aW9uIChpbWFnZUNvbmZpZykgewogICAgICAgICAgaW1hZ2VzLmZvckVhY2goZnVuY3Rpb24gKGltYWdlLCBpbmRleCkgewogICAgICAgICAgICBpbWFnZS5vbmNsaWNrID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHZhciBnYWxsZXJ5ID0gbmV3IHBob3RvU3dpcGVbImRlZmF1bHQiXShwc3dwLCBwaG90b1N3aXBlVUlEZWZhdWx0WyJkZWZhdWx0Il0sIGltYWdlQ29uZmlnLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oewogICAgICAgICAgICAgICAgc2hhcmVCdXR0b25zOiBpMThuW190aGlzMy4kbG9jYWxlUGF0aCB8fCAiLyJdLmJ1dHRvbnMKICAgICAgICAgICAgICB9LCBQSE9UT1NXSVBFX09QVElPTlMpLCB7CiAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgKICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgZ2FsbGVyeS5pbml0KCk7CiAgICAgICAgICAgIH07CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0SW1hZ2VJbmZvOiBmdW5jdGlvbiBnZXRJbWFnZUluZm8oaW1hZ2UpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBzcmM6IGltYWdlLnNyYywKICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaWQtbGVuZ3RoCiAgICAgICAgdzogaW1hZ2UubmF0dXJhbFdpZHRoLAogICAgICAgIGg6IGltYWdlLm5hdHVyYWxIZWlnaHQsCiAgICAgICAgdGl0bGU6IGltYWdlLmFsdAogICAgICB9OwogICAgfSwKICAgIGdldEltYWdlczogZnVuY3Rpb24gZ2V0SW1hZ2VzKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHZhciBwcm9taXNlcyA9IFtdOwogICAgICBpbWFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKElNQUdFX1NFTEVDVE9SKTsKICAgICAgaW1hZ2VzLmZvckVhY2goZnVuY3Rpb24gKGltYWdlLCBpbmRleCkgewogICAgICAgIHByb21pc2VzW2luZGV4XSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAgIGlmIChpbWFnZS5jb21wbGV0ZSkgcmVzb2x2ZShfdGhpczQuZ2V0SW1hZ2VJbmZvKGltYWdlKSk7ZWxzZSB7CiAgICAgICAgICAgIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShfdGhpczQuZ2V0SW1hZ2VJbmZvKGltYWdlKSk7CiAgICAgICAgICAgIH07CgogICAgICAgICAgICBpbWFnZS5vbmVycm9yID0gZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgIHJldHVybiByZWplY3QoZXJyKTsKICAgICAgICAgICAgfTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7CiAgICB9CiAgfQp9KTs="},{"version":3,"sources":["../../src/client/PhotoSwipeUI.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import Vue from \"vue\";\nlet images;\nconst i18n = PHOTOSWIPE_I18N;\nexport default Vue.extend({\n    name: \"PhotoSwipeUI\",\n    data: () => ({ i18n }),\n    watch: {\n        $route() {\n            const timer = setInterval(() => {\n                const content = document.querySelector(IMAGE_CONTAINER);\n                if (content) {\n                    this.photoswipe();\n                    clearInterval(timer);\n                }\n            }, 200);\n        },\n    },\n    mounted() {\n        const timer = setInterval(() => {\n            const content = document.querySelector(IMAGE_CONTAINER);\n            if (content) {\n                this.photoswipe();\n                clearInterval(timer);\n            }\n        }, 200);\n    },\n    methods: {\n        photoswipe() {\n            const pswp = document.querySelector(\".pswp\");\n            void Promise.all([\n                import(/* webpackChunkName: \"photo-swipe\" */ \"photoswipe\"),\n                import(\n                /* webpackChunkName: \"photo-swipe\" */ \"photoswipe/dist/photoswipe-ui-default\"),\n            ]).then(([photoSwipe, photoSwipeUIDefault]) => {\n                void this.getImages().then((imageConfig) => {\n                    images.forEach((image, index) => {\n                        image.onclick = () => {\n                            const gallery = new photoSwipe.default(pswp, photoSwipeUIDefault.default, imageConfig, Object.assign(Object.assign({ shareButtons: i18n[this.$localePath || \"/\"].buttons }, PHOTOSWIPE_OPTIONS), { index }));\n                            gallery.init();\n                        };\n                    });\n                });\n            });\n        },\n        getImageInfo(image) {\n            return {\n                src: image.src,\n                // eslint-disable-next-line id-length\n                w: image.naturalWidth,\n                h: image.naturalHeight,\n                title: image.alt,\n            };\n        },\n        getImages() {\n            const promises = [];\n            images = document.querySelectorAll(IMAGE_SELECTOR);\n            images.forEach((image, index) => {\n                promises[index] = new Promise((resolve, reject) => {\n                    if (image.complete)\n                        resolve(this.getImageInfo(image));\n                    else {\n                        image.onload = () => resolve(this.getImageInfo(image));\n                        image.onerror = (err) => reject(err);\n                    }\n                });\n            });\n            return Promise.all(promises);\n        },\n    },\n});\n//# sourceMappingURL=PhotoSwipeUI.js.map"]}]}