{"remainingRequest":"F:\\Faithandreflection\\node_modules\\babel-loader\\lib\\index.js??ref--3-1!F:\\Faithandreflection\\node_modules\\vuepress-plugin-photo-swipe\\lib\\client\\PhotoSwipeUI.js?vue&type=script&lang=js&","dependencies":[{"path":"F:\\Faithandreflection\\node_modules\\vuepress-plugin-photo-swipe\\lib\\client\\PhotoSwipeUI.js","mtime":1640151708244},{"path":"F:\\Faithandreflection\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639480154669},{"path":"F:\\Faithandreflection\\node_modules\\babel-loader\\lib\\index.js","mtime":1639480153975}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIkY6XFxGYWl0aGFuZHJlZmxlY3Rpb25cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXHNsaWNlZFRvQXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudGltZXJzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgVnVlIGZyb20gInZ1ZSI7CnZhciBpbWFnZXM7CnZhciBpMThuID0gUEhPVE9TV0lQRV9JMThOOwpleHBvcnQgZGVmYXVsdCBWdWUuZXh0ZW5kKHsKICBuYW1lOiAiUGhvdG9Td2lwZVVJIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaTE4bjogaTE4bgogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICAkcm91dGU6IGZ1bmN0aW9uICRyb3V0ZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciB0aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoSU1BR0VfQ09OVEFJTkVSKTsKCiAgICAgICAgaWYgKGNvbnRlbnQpIHsKICAgICAgICAgIF90aGlzLnBob3Rvc3dpcGUoKTsKCiAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTsKICAgICAgICB9CiAgICAgIH0sIDIwMCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgdmFyIHRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICB2YXIgY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoSU1BR0VfQ09OVEFJTkVSKTsKCiAgICAgIGlmIChjb250ZW50KSB7CiAgICAgICAgX3RoaXMyLnBob3Rvc3dpcGUoKTsKCiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7CiAgICAgIH0KICAgIH0sIDIwMCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBwaG90b3N3aXBlOiBmdW5jdGlvbiBwaG90b3N3aXBlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBwc3dwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnBzd3AiKTsKICAgICAgdm9pZCBQcm9taXNlLmFsbChbaW1wb3J0KAogICAgICAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiAicGhvdG8tc3dpcGUiICovCiAgICAgICJwaG90b3N3aXBlIiksIGltcG9ydCgKICAgICAgLyogd2VicGFja0NodW5rTmFtZTogInBob3RvLXN3aXBlIiAqLwogICAgICAicGhvdG9zd2lwZS9kaXN0L3Bob3Rvc3dpcGUtdWktZGVmYXVsdCIpXSkudGhlbihmdW5jdGlvbiAoX3JlZikgewogICAgICAgIHZhciBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDIpLAogICAgICAgICAgICBwaG90b1N3aXBlID0gX3JlZjJbMF0sCiAgICAgICAgICAgIHBob3RvU3dpcGVVSURlZmF1bHQgPSBfcmVmMlsxXTsKCiAgICAgICAgdm9pZCBfdGhpczMuZ2V0SW1hZ2VzKCkudGhlbihmdW5jdGlvbiAoaW1hZ2VDb25maWcpIHsKICAgICAgICAgIGltYWdlcy5mb3JFYWNoKGZ1bmN0aW9uIChpbWFnZSwgaW5kZXgpIHsKICAgICAgICAgICAgaW1hZ2Uub25jbGljayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICB2YXIgZ2FsbGVyeSA9IG5ldyBwaG90b1N3aXBlWyJkZWZhdWx0Il0ocHN3cCwgcGhvdG9Td2lwZVVJRGVmYXVsdFsiZGVmYXVsdCJdLCBpbWFnZUNvbmZpZywgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsKICAgICAgICAgICAgICAgIHNoYXJlQnV0dG9uczogaTE4bltfdGhpczMuJGxvY2FsZVBhdGggfHwgIi8iXS5idXR0b25zCiAgICAgICAgICAgICAgfSwgUEhPVE9TV0lQRV9PUFRJT05TKSwgewogICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4CiAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgIGdhbGxlcnkuaW5pdCgpOwogICAgICAgICAgICB9OwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldEltYWdlSW5mbzogZnVuY3Rpb24gZ2V0SW1hZ2VJbmZvKGltYWdlKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgc3JjOiBpbWFnZS5zcmMsCiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGlkLWxlbmd0aAogICAgICAgIHc6IGltYWdlLm5hdHVyYWxXaWR0aCwKICAgICAgICBoOiBpbWFnZS5uYXR1cmFsSGVpZ2h0LAogICAgICAgIHRpdGxlOiBpbWFnZS5hbHQKICAgICAgfTsKICAgIH0sCiAgICBnZXRJbWFnZXM6IGZ1bmN0aW9uIGdldEltYWdlcygpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB2YXIgcHJvbWlzZXMgPSBbXTsKICAgICAgaW1hZ2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChJTUFHRV9TRUxFQ1RPUik7CiAgICAgIGltYWdlcy5mb3JFYWNoKGZ1bmN0aW9uIChpbWFnZSwgaW5kZXgpIHsKICAgICAgICBwcm9taXNlc1tpbmRleF0gPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgICBpZiAoaW1hZ2UuY29tcGxldGUpIHJlc29sdmUoX3RoaXM0LmdldEltYWdlSW5mbyhpbWFnZSkpO2Vsc2UgewogICAgICAgICAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoX3RoaXM0LmdldEltYWdlSW5mbyhpbWFnZSkpOwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgaW1hZ2Uub25lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7CiAgICAgICAgICAgIH07CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpOwogICAgfQogIH0KfSk7"},{"version":3,"sources":["../../src/client/PhotoSwipeUI.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import Vue from \"vue\";\nlet images;\nconst i18n = PHOTOSWIPE_I18N;\nexport default Vue.extend({\n    name: \"PhotoSwipeUI\",\n    data: () => ({ i18n }),\n    watch: {\n        $route() {\n            const timer = setInterval(() => {\n                const content = document.querySelector(IMAGE_CONTAINER);\n                if (content) {\n                    this.photoswipe();\n                    clearInterval(timer);\n                }\n            }, 200);\n        },\n    },\n    mounted() {\n        const timer = setInterval(() => {\n            const content = document.querySelector(IMAGE_CONTAINER);\n            if (content) {\n                this.photoswipe();\n                clearInterval(timer);\n            }\n        }, 200);\n    },\n    methods: {\n        photoswipe() {\n            const pswp = document.querySelector(\".pswp\");\n            void Promise.all([\n                import(/* webpackChunkName: \"photo-swipe\" */ \"photoswipe\"),\n                import(\n                /* webpackChunkName: \"photo-swipe\" */ \"photoswipe/dist/photoswipe-ui-default\"),\n            ]).then(([photoSwipe, photoSwipeUIDefault]) => {\n                void this.getImages().then((imageConfig) => {\n                    images.forEach((image, index) => {\n                        image.onclick = () => {\n                            const gallery = new photoSwipe.default(pswp, photoSwipeUIDefault.default, imageConfig, Object.assign(Object.assign({ shareButtons: i18n[this.$localePath || \"/\"].buttons }, PHOTOSWIPE_OPTIONS), { index }));\n                            gallery.init();\n                        };\n                    });\n                });\n            });\n        },\n        getImageInfo(image) {\n            return {\n                src: image.src,\n                // eslint-disable-next-line id-length\n                w: image.naturalWidth,\n                h: image.naturalHeight,\n                title: image.alt,\n            };\n        },\n        getImages() {\n            const promises = [];\n            images = document.querySelectorAll(IMAGE_SELECTOR);\n            images.forEach((image, index) => {\n                promises[index] = new Promise((resolve, reject) => {\n                    if (image.complete)\n                        resolve(this.getImageInfo(image));\n                    else {\n                        image.onload = () => resolve(this.getImageInfo(image));\n                        image.onerror = (err) => reject(err);\n                    }\n                });\n            });\n            return Promise.all(promises);\n        },\n    },\n});\n//# sourceMappingURL=PhotoSwipeUI.js.map"]}]}